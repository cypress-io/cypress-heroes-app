<form [formGroup]="heroForm" (ngSubmit)="onSubmit()" #ngForm="ngForm">
    <div class="mb-6">
      <label for="email" class="block mb-2 text-sm font-medium text-gray-500"
        >Name</label
      >
      <input
        type="email"
        id="email"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5"
        formControlName="name"
        required
      />
      <div
        *ngIf="ngForm.submitted && heroForm.controls.name.errors?.['required']"
      >
        Name is required.
      </div>
    </div>
    <div class="mb-6">
      <label for="price" class="block mb-2 text-sm font-medium text-gray-500"
        >Price</label
      >
      <input
        type="number"
        id="price"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5"
        formControlName="price"
        required
      />
      <div
        *ngIf="ngForm.submitted && heroForm.controls.price.errors?.['required']"
      >
        Price is required.
      </div>
      <div *ngIf="ngForm.submitted && heroForm.controls.price.errors?.['min']">
        Price must be greater than 0.
      </div>
    </div>
    <div class="mb-6">
      <label for="price" class="block mb-2 text-sm font-medium text-gray-500"
        >Fans</label
      >
      <input
        type="number"
        id="fans"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5"
        formControlName="fans"
        required
      />
      <div
        *ngIf="ngForm.submitted && heroForm.controls.fans.errors?.['required']"
      >
        Fans is required.
      </div>
      <div *ngIf="ngForm.submitted && heroForm.controls.fans.errors?.['min']">
        Fans must be greater than 0.
      </div>
    </div>
    <div class="mb-6">
      <label for="price" class="block mb-2 text-sm font-medium text-gray-500"
        >Saves</label
      >
      <input
        type="number"
        id="saves"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5"
        formControlName="saves"
        required
      />
      <div
        *ngIf="ngForm.submitted && heroForm.controls.saves.errors?.['required']"
      >
        Saves is required.
      </div>
      <div *ngIf="ngForm.submitted && heroForm.controls.saves.errors?.['min']">
        Saves must be greater than 0.
      </div>
    </div>
    <div class="mb-6">
      <label for="powers" class="block mb-2 text-sm font-medium text-gray-500"
        >Powers</label
      >
      <select formControlName="powers" multiple size="6" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm focus:ring-blue-500 focus:border-blue-500 block w-1/3 p-2.5 ">
        <option *ngFor="let power of powers" [ngValue]="power.id">
          {{ power.name }}
        </option>
      </select>
      <div
        *ngIf="ngForm.submitted && heroForm.controls.powers.errors?.['required']"
      >
        At least one power is required.
      </div>
    </div>
    <div class="mb-6">
      <label for="avatar" class="block mb-2 text-sm font-medium text-gray-500"
        >Avatar</label
      >
      <div
        class="border border-dashed border-gray-500 relative inline-block max-w-sm"
      >
        <input
          accept="image/*"
          type="file"
          id="avatar"
          class="cursor-pointer absolute block opacity-0 top-0 right-0 left-0 z-50 w-full h-full"
          #fileInput
          (change)="onFileChange(fileInput!.files![0])"
        />
        <div *ngIf="!imageUrl" class="text-center p-10 w-full h-full">
          <h4>
            Drop image here
            <br />or
          </h4>
          <p class="">Select files</p>
        </div>
        <img *ngIf="imageUrl" src="{{ imageUrl }}" />
      </div>
    </div>
    <app-button>Submit</app-button>
  </form>
